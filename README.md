# ğŸµ æ‚¦éŸ³æ’­æ”¾å™¨ (Melody Player)

<p align="center">
  <img src="assets/images/default_album_art.png" alt="æ‚¦éŸ³æ’­æ”¾å™¨ Logo" width="120">
</p>

<p align="center">
  <a href="https://flutter.dev"><img src="https://img.shields.io/badge/Flutter-3.24+-02569B?style=flat-square&logo=flutter" alt="Flutter"></a>
  <a href="https://dart.dev"><img src="https://img.shields.io/badge/Dart-3.5+-0175C2?style=flat-square&logo=dart" alt="Dart"></a>
  <a href="https://www.android.com"><img src="https://img.shields.io/badge/Android-5.0+-3DDC84?style=flat-square&logo=android" alt="Android"></a>
  <img src="https://img.shields.io/badge/Version-1.9.0-FF6B6B?style=flat-square" alt="Version">
</p>

<p align="center">ä¸€æ¬¾ç®€æ´ã€æ¸…æ–°ã€è½»é‡çš„æœ¬åœ°éŸ³ä¹æ’­æ”¾å™¨</p>

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ¶ æ ¸å¿ƒæ’­æ”¾åŠŸèƒ½
- **é«˜å“è´¨éŸ³é¢‘æ’­æ”¾** - åŸºäº just_audio å¼•æ“ï¼Œæ”¯æŒå¤šç§éŸ³é¢‘æ ¼å¼
- **åå°æ’­æ”¾** - æ”¯æŒåå°æ’­æ”¾å’Œé€šçŸ¥æ æ§åˆ¶ï¼Œé”å±ä¹Ÿèƒ½æ§åˆ¶éŸ³ä¹
- **æ’­æ”¾æ¨¡å¼** - é¡ºåºæ’­æ”¾ã€éšæœºæ’­æ”¾ã€å•æ›²å¾ªç¯ã€åˆ—è¡¨å¾ªç¯å››ç§æ¨¡å¼
- **æ­Œè¯æ˜¾ç¤º** - æ”¯æŒæ­Œè¯åŒæ­¥æ˜¾ç¤ºï¼ˆå¼€å‘ä¸­ï¼‰

### ğŸ“± æœ¬åœ°éŸ³ä¹ç®¡ç†
- **æ™ºèƒ½æ‰«æ** - è‡ªåŠ¨æ‰«æè®¾å¤‡ä¸­çš„éŸ³ä¹æ–‡ä»¶ï¼Œæ™ºèƒ½è¿‡æ»¤å½•éŸ³ã€é“ƒå£°ç­‰ééŸ³ä¹æ–‡ä»¶
- **å¤šç»´åº¦æµè§ˆ** - æŒ‰æ­Œæ›²ã€æ­Œæ‰‹ã€ä¸“è¾‘åˆ†ç±»æµè§ˆ
- **æ’­æ”¾åˆ—è¡¨** - åˆ›å»ºè‡ªå®šä¹‰æ’­æ”¾åˆ—è¡¨ï¼Œç®¡ç†ä½ çš„éŸ³ä¹æ”¶è—
- **æœ€è¿‘æ’­æ”¾** - è‡ªåŠ¨è®°å½•æœ€è¿‘æ’­æ”¾çš„ 50 é¦–æ­Œæ›²

### ğŸ¨ ç•Œé¢ä¸ä½“éªŒ
- **ç²¾ç¾ç•Œé¢** - ç®€æ´æ¸…æ–°çš„ Material Design è®¾è®¡é£æ ¼
- **æ·±è‰²æ¨¡å¼** - æ”¯æŒæµ…è‰²/æ·±è‰²ä¸»é¢˜åˆ‡æ¢ï¼Œé€‚é…ç³»ç»Ÿä¸»é¢˜
- **æµç•…åŠ¨ç”»** - ç²¾å¿ƒè®¾è®¡çš„è½¬åœºåŠ¨ç”»å’Œäº¤äº’åé¦ˆ
- **è¿·ä½ æ’­æ”¾å™¨** - åº•éƒ¨å¸¸é©»è¿·ä½ æ’­æ”¾æ¡ï¼Œéšæ—¶æ§åˆ¶æ’­æ”¾

### ğŸ”„ å…¶ä»–åŠŸèƒ½
- **è‡ªåŠ¨æ›´æ–°** - è‡ªåŠ¨æ£€æµ‹æ–°ç‰ˆæœ¬å¹¶æç¤ºæ›´æ–°
- **éŸ³é¢‘æ ¼å¼æ”¯æŒ** - MP3ã€AACã€M4Aã€FLACã€WAVã€OGGã€OPUSã€APEã€DSDã€WMA
- **æ–‡ä»¶å¤¹é€‰æ‹©** - è‡ªå®šä¹‰æ‰«æç‰¹å®šæ–‡ä»¶å¤¹ï¼Œé¿å…æ‰«ææ— å…³éŸ³é¢‘

---

## ğŸ“¥ ä¸‹è½½å®‰è£…

### ç›´æ¥ä¸‹è½½
| ç‰ˆæœ¬ | ä¸‹è½½é“¾æ¥ | æ–‡ä»¶å¤§å° |
|:---:|:---:|:---:|
| æœ€æ–°ç‰ˆ (v1.9.0) | [ç‚¹å‡»ä¸‹è½½](https://file.awen.me/music/melody_player_v1.9.0.apk) | ~125 MB |

### ç³»ç»Ÿè¦æ±‚
- **Android ç‰ˆæœ¬**: Android 5.0 (API 21) åŠä»¥ä¸Š
- **å­˜å‚¨ç©ºé—´**: è‡³å°‘ 150 MB å¯ç”¨ç©ºé—´
- **æƒé™**: å­˜å‚¨æƒé™ï¼ˆç”¨äºè¯»å–éŸ³ä¹æ–‡ä»¶ï¼‰

---

## ğŸ› ï¸ æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆ
| å±‚çº§ | æŠ€æœ¯é€‰å‹ |
|:---:|:---|
| **æ¡†æ¶** | Flutter 3.24+ |
| **è¯­è¨€** | Dart 3.5+ |
| **çŠ¶æ€ç®¡ç†** | Provider |
| **æœ¬åœ°å­˜å‚¨** | SQFlite + SharedPreferences |
| **éŸ³é¢‘æ’­æ”¾** | just_audio + audio_service |
| **æƒé™å¤„ç†** | permission_handler |
| **åª’ä½“æ‰«æ** | on_audio_query |

### é¡¹ç›®ç»“æ„
```
lib/
â”œâ”€â”€ models/              # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ song.dart        # æ­Œæ›²æ¨¡å‹
â”‚   â”œâ”€â”€ album.dart       # ä¸“è¾‘æ¨¡å‹
â”‚   â”œâ”€â”€ artist.dart      # æ­Œæ‰‹æ¨¡å‹
â”‚   â””â”€â”€ playlist.dart    # æ’­æ”¾åˆ—è¡¨æ¨¡å‹
â”œâ”€â”€ services/            # ä¸šåŠ¡æœåŠ¡
â”‚   â”œâ”€â”€ audio_player_service.dart   # éŸ³é¢‘æ’­æ”¾æœåŠ¡
â”‚   â”œâ”€â”€ audio_handler.dart          # åå°æ’­æ”¾å¤„ç†
â”‚   â”œâ”€â”€ media_scanner_service.dart  # åª’ä½“æ‰«ææœåŠ¡
â”‚   â”œâ”€â”€ playlist_service.dart       # æ’­æ”¾åˆ—è¡¨æœåŠ¡
â”‚   â”œâ”€â”€ update_service.dart         # æ›´æ–°æ£€æŸ¥æœåŠ¡
â”‚   â””â”€â”€ audio_transcode_service.dart # éŸ³é¢‘è½¬ç æœåŠ¡
â”œâ”€â”€ providers/           # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ player_provider.dart        # æ’­æ”¾å™¨çŠ¶æ€
â”‚   â”œâ”€â”€ library_provider.dart       # éŸ³ä¹åº“çŠ¶æ€
â”‚   â”œâ”€â”€ playlist_provider.dart      # æ’­æ”¾åˆ—è¡¨çŠ¶æ€
â”‚   â””â”€â”€ settings_provider.dart      # è®¾ç½®çŠ¶æ€
â”œâ”€â”€ screens/             # é¡µé¢
â”‚   â”œâ”€â”€ splash/          # å¯åŠ¨é¡µ
â”‚   â”œâ”€â”€ home/            # ä¸»é¡µ
â”‚   â”œâ”€â”€ library/         # éŸ³ä¹åº“
â”‚   â”œâ”€â”€ player/          # æ’­æ”¾é¡µ
â”‚   â”œâ”€â”€ playlist/        # æ’­æ”¾åˆ—è¡¨
â”‚   â”œâ”€â”€ settings/        # è®¾ç½®é¡µ
â”‚   â””â”€â”€ folder_picker/   # æ–‡ä»¶å¤¹é€‰æ‹©
â”œâ”€â”€ widgets/             # ç»„ä»¶
â”‚   â”œâ”€â”€ player/          # æ’­æ”¾å™¨ç›¸å…³ç»„ä»¶
â”‚   â”œâ”€â”€ common/          # é€šç”¨ç»„ä»¶
â”‚   â””â”€â”€ update/          # æ›´æ–°å¼¹çª—
â”œâ”€â”€ utils/               # å·¥å…·ç±»
â”‚   â”œâ”€â”€ constants.dart   # å¸¸é‡å®šä¹‰
â”‚   â”œâ”€â”€ theme.dart       # ä¸»é¢˜é…ç½®
â”‚   â””â”€â”€ logger.dart      # æ—¥å¿—å·¥å…·
â”œâ”€â”€ di/                  # ä¾èµ–æ³¨å…¥
â”‚   â””â”€â”€ service_locator.dart
â”œâ”€â”€ app.dart             # åº”ç”¨å…¥å£
â””â”€â”€ main.dart            # ç¨‹åºå…¥å£
```

---

## ğŸ”§ ç¼–è¯‘æ„å»º

### ç¯å¢ƒè¦æ±‚
- Flutter SDK 3.24 æˆ–æ›´é«˜ç‰ˆæœ¬
- Android SDK (API 21+)
- Java JDK 11 æˆ–æ›´é«˜ç‰ˆæœ¬
- Git

### ç¼–è¯‘æ­¥éª¤

1. **å…‹éš†ä»“åº“**
```bash
git clone https://github.com/yourusername/melody_player.git
cd melody_player
```

2. **å®‰è£…ä¾èµ–**
```bash
flutter pub get
```

3. **ç¼–è¯‘ APK**
```bash
# ä½¿ç”¨å¿«æ·è„šæœ¬
./build.sh

# æˆ–æ‰‹åŠ¨ç¼–è¯‘
flutter clean
flutter pub get
flutter build apk --release
```

4. **è¾“å‡ºæ–‡ä»¶**
ç¼–è¯‘å®Œæˆåï¼ŒAPK æ–‡ä»¶ä½äºï¼š
```
build/app/outputs/flutter-apk/app-release.apk
```

### ç¼–è¯‘å¹¶ä¸Šä¼ åˆ° OSSï¼ˆå†…éƒ¨ä½¿ç”¨ï¼‰
```bash
./build.sh "æ›´æ–°è¯´æ˜"
```

---

## ğŸ“‹ æƒé™è¯´æ˜

æ‚¦éŸ³æ’­æ”¾å™¨éœ€è¦ä»¥ä¸‹æƒé™æ¥æä¾›å®Œæ•´åŠŸèƒ½ï¼š

| æƒé™ | ç”¨é€” | æ˜¯å¦å¿…éœ€ |
|:---|:---|:---:|
| `READ_MEDIA_AUDIO` | è¯»å–éŸ³ä¹æ–‡ä»¶ï¼ˆAndroid 13+ï¼‰ | âœ… |
| `READ_EXTERNAL_STORAGE` | è¯»å–å­˜å‚¨ï¼ˆAndroid 12 åŠä»¥ä¸‹ï¼‰ | âœ… |
| `MANAGE_EXTERNAL_STORAGE` | ç®¡ç†æ‰€æœ‰æ–‡ä»¶ï¼ˆç”¨äºè‡ªå®šä¹‰æ–‡ä»¶å¤¹é€‰æ‹©ï¼‰ | âŒ |
| `FOREGROUND_SERVICE` | åå°æ’­æ”¾æœåŠ¡ | âœ… |
| `FOREGROUND_SERVICE_MEDIA_PLAYBACK` | åª’ä½“æ’­æ”¾å‰å°æœåŠ¡ | âœ… |
| `INTERNET` | æ£€æŸ¥æ›´æ–° | âŒ |
| `REQUEST_INSTALL_PACKAGES` | è‡ªåŠ¨å®‰è£…æ›´æ–° | âŒ |

---

## ğŸš€ æ›´æ–°æ—¥å¿—

### v1.9.0 (2026-02-18)
- âœ¨ æ–°å¢è‡ªåŠ¨æ›´æ–°æ£€æŸ¥åŠŸèƒ½
- ğŸ¨ ä¼˜åŒ–æ’­æ”¾ç•Œé¢ UI
- ğŸ”§ ä¿®å¤åå°æ’­æ”¾ç¨³å®šæ€§é—®é¢˜
- ğŸ“ æ–°å¢è‡ªå®šä¹‰æ–‡ä»¶å¤¹é€‰æ‹©åŠŸèƒ½

### v1.8.0 (æ—©æœŸç‰ˆæœ¬)
- âœ¨ æ”¯æŒæ›´å¤šéŸ³é¢‘æ ¼å¼ï¼ˆWMA ç­‰ï¼‰
- ğŸ¨ æ·±è‰²æ¨¡å¼ä¼˜åŒ–
- ğŸ”§ ä¿®å¤è‹¥å¹²å·²çŸ¥é—®é¢˜

---

## ğŸ¤ å‚ä¸è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºä½ çš„ç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ä¸€ä¸ª Pull Request

---

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®åŸºäº [MIT](LICENSE) åè®®å¼€æºã€‚

---

## ğŸ™ è‡´è°¢

- [just_audio](https://pub.dev/packages/just_audio) - ä¼˜ç§€çš„éŸ³é¢‘æ’­æ”¾åº“
- [audio_service](https://pub.dev/packages/audio_service) - åå°éŸ³é¢‘æ’­æ”¾æ”¯æŒ
- [Flutter](https://flutter.dev) - è·¨å¹³å° UI æ¡†æ¶
- [Material Design](https://m3.material.io/) - è®¾è®¡è¯­è¨€

---

## ğŸ“® è”ç³»æˆ‘ä»¬

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- ğŸ“§ é‚®ç®±: your.email@example.com
- ğŸ› Issues: [GitHub Issues](https://github.com/yourusername/melody_player/issues)

---

<p align="center">
  Made with â¤ï¸ by æ‚¦éŸ³å›¢é˜Ÿ
</p>
